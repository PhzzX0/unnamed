{% extends "base.html" %}

{% block content %}
<div class="max-w-4xl mx-auto p-4 md:p-8 bg-dark shadow-2xl rounded-xl mt-10 text-center">
    <h1 class="text-3xl font-extrabold text-primary mb-6">Pedido Confirmado!</h1>
    <p class="text-lg text-light mb-4">Obrigado pela compra, {{ current_user.username }}! Seu pedido foi processado.</p>
    
    {% if session.get('order_details') %}
    <div class="bg-dark p-6 rounded-lg text-left">
        <h2 class="text-xl font-semibold text-primary mb-4">
            Detalhes do Pedido #{{ session['order_details']['order_id'] }}
        </h2>

        <ul class="space-y-2 text-light">
            {% for item in session['order_details']['items'] %}
            <li>{{ item['name'] }} (x{{ item['quantity'] }}) - 
                R$ {{ "%.2f" | format(item['price'] * item['quantity']) }}
            </li>
            {% endfor %}
        </ul>

        <p class="mt-4 text-primary font-bold">
            Total: R$ {{ "%.2f" | format(session['order_details']['total']) }}
        </p>

        <p class="text-light">
            Um e-mail de confirmação foi enviado para {{ session['order_details']['email'] }}.
        </p>
    </div>
    {% endif %}
    
    <a href="{{ url_for('loja') }}" class="mt-6 inline-block py-3 px-6 bg-primary text-white font-bold rounded-lg hover:bg-primary/80 transition">
        Continuar Comprando
    </a>
</div>
{% endblock %}
